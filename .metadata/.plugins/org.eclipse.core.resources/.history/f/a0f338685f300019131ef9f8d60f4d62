package tictactoe;

import java.util.Scanner;

public class SpieleEngine {
	private Spielbrett brett = new Spielbrett();
	Scanner scanner = new Scanner(System.in);
	
	public void spielbrettVisualisieren() {
		int[][] spielstand = brett.ausgabe();
		konsolenAusgabe(spielstand);
		
	}

	private void konsolenAusgabe(int[][] spielstand) {
		int spieler = 0;
		überschriftAusgeben();
		
		for(int zeile=0; zeile < spielstand.length; zeile++) {
			zeilenNummerierungAusgeben(zeile);
			zeileAusgeben(spielstand[zeile]);
		};
		
		System.out.print("Kommando: ");
		String kommando = scanner.next();
		try {
			eingabeVerarbeiten(kommando, spieler);
		} catch(Exception e){
			
		}
	}

	private boolean eingabeVerarbeiten(String kommando, int spieler) throws Exception {
		switch (kommando) {
			case "A0": return brett.zug(0, spieler);
	        case "A1": return brett.zug(1, spieler);
	        case "A2": return brett.zug(2, spieler);
	        case "B0": return brett.zug(3, spieler);
	        case "B1": return brett.zug(4, spieler);
	        case "B2": return brett.zug(5, spieler);
	        case "C0": return brett.zug(6, spieler);
	        case "C1": return brett.zug(7, spieler);
	        case "C2": return brett.zug(8, spieler); 
	        case "neu": brett = new Spielbrett(); break;
	        case "ende": break;
	        default:
	        	throw new Exception();
		}
		return false;
	}

	private void zeilenNummerierungAusgeben(int zeile) {
		System.out.print(zeile+1 + ": ");
	}

	private void überschriftAusgeben() {
		System.out.println("   A | B | C");
		zeilenTrennen();
	}

	private void zeilenTrennen() {
		System.out.println("-------------");
	}

	private void zeileAusgeben(int[] zeile) {
		for(int spalte = 0; spalte < zeile.length; spalte++) {
			System.out.print(zeile[spalte]);	
			zeichenTrennen(spalte);
		}
	}
	
	private void zeichenTrennen(int spalte) {
		if (spalte == 0 || spalte == 1) {
			System.out.print(" | ");
		} else {
			System.out.print("\r\n");
			zeilenTrennen();
		}
	}
	
	public static void main(String [] args) {
		new SpieleEngine().spielbrettVisualisieren();
	}
}
